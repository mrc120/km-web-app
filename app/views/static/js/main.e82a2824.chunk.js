(this["webpackJsonpreact-hooks-crud"]=this["webpackJsonpreact-hooks-crud"]||[]).push([[0],{36:function(t,e,c){},59:function(t,e,c){"use strict";c.r(e);var n=c(0),i=c(1),s=c(27),a=c.n(s),l=c(10),o=c(2),r=(c(35),c(36),c(12)),d=c(9),j=c(8),b=c(28),u=c.n(b).a.create({baseURL:"http://localhost:8080/api",headers:{"Content-type":"application/json"}}),h=function(){return u.get("/tutorials")},O=function(t){return u.get("/tutorials/".concat(t))},m=function(t){return u.post("/tutorials",t)},p=function(t,e){return u.put("/tutorials/".concat(t),e)},x=function(t){return u.delete("/tutorials/".concat(t))},f=function(){return u.delete("/tutorials")},v=function(t){return u.get("/tutorials?title=".concat(t))},g=function(){var t={id:null,title:"",description:"",published:!1},e=Object(i.useState)(t),c=Object(j.a)(e,2),s=c[0],a=c[1],l=Object(i.useState)(!1),o=Object(j.a)(l,2),b=o[0],u=o[1],h=function(t){var e=t.target,c=e.name,n=e.value;a(Object(d.a)(Object(d.a)({},s),{},Object(r.a)({},c,n)))};return Object(n.jsx)("div",{className:"submit-form",children:b?Object(n.jsxs)("div",{children:[Object(n.jsx)("h4",{children:"You submitted successfully!"}),Object(n.jsx)("button",{className:"btn btn-success",onClick:function(){a(t),u(!1)},children:"Add"})]}):Object(n.jsxs)("div",{children:[Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{htmlFor:"title",children:"Title"}),Object(n.jsx)("input",{type:"text",className:"form-control",id:"title",required:!0,value:s.title,onChange:h,name:"title"})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{htmlFor:"description",children:"Description"}),Object(n.jsx)("input",{type:"text",className:"form-control",id:"description",required:!0,value:s.description,onChange:h,name:"description"})]}),Object(n.jsx)("button",{onClick:function(){var t={title:s.title,description:s.description};m(t).then((function(t){a({id:t.data.id,title:t.data.title,description:t.data.description,published:t.data.published}),u(!0),console.log(t.data)})).catch((function(t){console.log(t)}))},className:"btn btn-success",children:"Submit"})]})})},N=function(t){var e=Object(i.useState)({id:null,title:"",description:"",published:!1}),c=Object(j.a)(e,2),s=c[0],a=c[1],l=Object(i.useState)(""),o=Object(j.a)(l,2),b=o[0],u=o[1];Object(i.useEffect)((function(){var e;e=t.match.params.id,O(e).then((function(t){a(t.data),console.log(t.data)})).catch((function(t){console.log(t)}))}),[t.match.params.id]);var h=function(t){var e=t.target,c=e.name,n=e.value;a(Object(d.a)(Object(d.a)({},s),{},Object(r.a)({},c,n)))},m=function(t){var e={id:s.id,title:s.title,description:s.description,published:t};p(s.id,e).then((function(e){a(Object(d.a)(Object(d.a)({},s),{},{published:t})),console.log(e.data)})).catch((function(t){console.log(t)}))};return Object(n.jsx)("div",{children:s?Object(n.jsxs)("div",{className:"edit-form",children:[Object(n.jsx)("h4",{children:"Tutorial"}),Object(n.jsxs)("form",{children:[Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{htmlFor:"title",children:"Title"}),Object(n.jsx)("input",{type:"text",className:"form-control",id:"title",name:"title",value:s.title,onChange:h})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{htmlFor:"description",children:"Description"}),Object(n.jsx)("input",{type:"text",className:"form-control",id:"description",name:"description",value:s.description,onChange:h})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{children:Object(n.jsx)("strong",{children:"Status:"})}),s.published?"Published":"Pending"]})]}),s.published?Object(n.jsx)("button",{className:"badge badge-primary mr-2",onClick:function(){return m(!1)},children:"UnPublish"}):Object(n.jsx)("button",{className:"badge badge-primary mr-2",onClick:function(){return m(!0)},children:"Publish"}),Object(n.jsx)("button",{className:"badge badge-danger mr-2",onClick:function(){x(s.id).then((function(e){console.log(e.data),t.history.push("/tutorials")})).catch((function(t){console.log(t)}))},children:"Delete"}),Object(n.jsx)("button",{type:"submit",className:"badge badge-success",onClick:function(){p(s.id,s).then((function(t){console.log(t.data),u("The tutorial was updated successfully!")})).catch((function(t){console.log(t)}))},children:"Update"}),Object(n.jsx)("p",{children:b})]}):Object(n.jsxs)("div",{children:[Object(n.jsx)("br",{}),Object(n.jsx)("p",{children:"Please click on a Tutorial..."})]})})},k=function(){var t=Object(i.useState)([]),e=Object(j.a)(t,2),c=e[0],s=e[1],a=Object(i.useState)(null),o=Object(j.a)(a,2),r=o[0],d=o[1],b=Object(i.useState)(-1),u=Object(j.a)(b,2),O=u[0],m=u[1],p=Object(i.useState)(""),x=Object(j.a)(p,2),g=x[0],N=x[1];Object(i.useEffect)((function(){k()}),[]);var k=function(){h().then((function(t){s(t.data),console.log(t.data)})).catch((function(t){console.log(t)}))};return Object(n.jsxs)("div",{className:"list row",children:[Object(n.jsx)("div",{className:"col-md-8",children:Object(n.jsxs)("div",{className:"input-group mb-3",children:[Object(n.jsx)("input",{type:"text",className:"form-control",placeholder:"Search by title",value:g,onChange:function(t){var e=t.target.value;N(e)}}),Object(n.jsx)("div",{className:"input-group-append",children:Object(n.jsx)("button",{className:"btn btn-outline-secondary",type:"button",onClick:function(){v(g).then((function(t){s(t.data),console.log(t.data)})).catch((function(t){console.log(t)}))},children:"Search"})})]})}),Object(n.jsxs)("div",{className:"col-md-6",children:[Object(n.jsx)("h4",{children:"Tutorials List"}),Object(n.jsx)("ul",{className:"list-group",children:c&&c.map((function(t,e){return Object(n.jsx)("li",{className:"list-group-item "+(e===O?"active":""),onClick:function(){return function(t,e){d(t),m(e)}(t,e)},children:t.title},e)}))}),Object(n.jsx)("button",{className:"m-3 btn btn-sm btn-danger",onClick:function(){f().then((function(t){console.log(t.data),k(),d(null),m(-1)})).catch((function(t){console.log(t)}))},children:"Remove All"})]}),Object(n.jsx)("div",{className:"col-md-6",children:r?Object(n.jsxs)("div",{children:[Object(n.jsx)("h4",{children:"Tutorial"}),Object(n.jsxs)("div",{children:[Object(n.jsx)("label",{children:Object(n.jsx)("strong",{children:"Title:"})})," ",r.title]}),Object(n.jsxs)("div",{children:[Object(n.jsx)("label",{children:Object(n.jsx)("strong",{children:"Description:"})})," ",r.description]}),Object(n.jsxs)("div",{children:[Object(n.jsx)("label",{children:Object(n.jsx)("strong",{children:"Status:"})})," ",r.published?"Published":"Pending"]}),Object(n.jsx)(l.b,{to:"/tutorials/"+r.id,className:"badge badge-warning",children:"Edit"})]}):Object(n.jsxs)("div",{children:[Object(n.jsx)("br",{}),Object(n.jsx)("p",{children:"Please click on a Tutorial..."})]})})]})};var y=function(){return Object(n.jsxs)("div",{children:[Object(n.jsxs)("nav",{className:"navbar navbar-expand navbar-dark bg-dark",children:[Object(n.jsx)("a",{href:"/tutorials",className:"navbar-brand",children:"bezKoder"}),Object(n.jsxs)("div",{className:"navbar-nav mr-auto",children:[Object(n.jsx)("li",{className:"nav-item",children:Object(n.jsx)(l.b,{to:"/tutorials",className:"nav-link",children:"Tutorials"})}),Object(n.jsx)("li",{className:"nav-item",children:Object(n.jsx)(l.b,{to:"/add",className:"nav-link",children:"Add"})})]})]}),Object(n.jsx)("div",{className:"container mt-3",children:Object(n.jsxs)(o.c,{children:[Object(n.jsx)(o.a,{exact:!0,path:["/","/tutorials"],component:k}),Object(n.jsx)(o.a,{exact:!0,path:"/add",component:g}),Object(n.jsx)(o.a,{path:"/tutorials/:id",component:N})]})})]})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a.a.render(Object(n.jsx)(l.a,{children:Object(n.jsx)(y,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[59,1,2]]]);
//# sourceMappingURL=main.e82a2824.chunk.js.map