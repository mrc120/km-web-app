(this["webpackJsonpreact-hooks-crud"]=this["webpackJsonpreact-hooks-crud"]||[]).push([[0],{363:function(e,a,t){},384:function(e,a,t){},444:function(e,a,t){"use strict";t.r(a);var n=t(6),c=t(0),i=t(15),s=t.n(i),l=t(86),o=t(28),r=(t(362),t(363),t(109)),j=t(87),d=t(57),u=t(341),m=t.n(u).a.create({baseURL:"http://localhost:8080/api",headers:{"Content-type":"application/json"}}),b=function(){return m.get("/ksiazka")},h=function(e){return m.get("/ksiazka/".concat(e))},O=function(e){return m.post("/ksiazka",e)},x=function(e,a){return m.put("/ksiazka/".concat(e),a)},p=function(e){return m.delete("/ksiazka/".concat(e))},k=function(){return m.delete("/ksiazka")},f=function(e){return m.get("/ksiazka?imie=".concat(e))},z=function(){var e={id:null,imie:"",nazwisko:"",adres_email:"",numer_tel:"",nazwa_dzialu:"",numer_pokoju:"",published:!1},a=Object(c.useState)(e),t=Object(d.a)(a,2),i=t[0],s=t[1],l=Object(c.useState)(!1),o=Object(d.a)(l,2),u=o[0],m=o[1],b=function(e){var a=e.target,t=a.name,n=a.value;s(Object(j.a)(Object(j.a)({},i),{},Object(r.a)({},t,n)))};return Object(n.jsx)("div",{className:"submit-form",children:u?Object(n.jsxs)("div",{children:[Object(n.jsx)("h4",{children:"Dodano pomyslnie!"}),Object(n.jsx)("button",{className:"btn btn-success",onClick:function(){s(e),m(!1)},children:"Dodaj"})]}):Object(n.jsxs)("div",{children:[Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{htmlFor:"imie",children:"Imie"}),Object(n.jsx)("input",{type:"text",className:"form-control",id:"imie",required:!0,value:i.imie,onChange:b,name:"imie"})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{htmlFor:"nazwisko",children:"Nazwisko"}),Object(n.jsx)("input",{type:"text",className:"form-control",id:"nazwisko",required:!0,value:i.nazwisko,onChange:b,name:"nazwisko"})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{htmlFor:"adres_email",children:"Adres e-mail"}),Object(n.jsx)("input",{type:"text",className:"form-control",id:"adres_email",required:!0,value:i.adres_email,onChange:b,name:"adres_email"})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{htmlFor:"numer_tel",children:"Numer telefonu"}),Object(n.jsx)("input",{type:"text",className:"form-control",id:"numer_tel",required:!0,value:i.numer_tel,onChange:b,name:"numer_tel"})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{htmlFor:"numer_stacj",children:"Numer telefonu stacjonarny"}),Object(n.jsx)("input",{type:"text",className:"form-control",id:"nume_stacj",required:!0,value:i.numer_stacj,onChange:b,name:"numer_stacj"})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{htmlFor:"nazwa_dzialu",children:"Nazwa dzia\u0142u"}),Object(n.jsx)("input",{type:"text",className:"form-control",id:"nazwa_dzialu",required:!0,value:i.nazwa_dzialu,onChange:b,name:"nazwa_dzialu"})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{htmlFor:"numer_pokoju",children:"Numer pokoju"}),Object(n.jsx)("input",{type:"text",className:"form-control",id:"numer_pokoju",required:!0,value:i.numer_pokoju,onChange:b,name:"numer_pokoju"})]}),Object(n.jsx)("button",{onClick:function(){var e={imie:i.imie,nazwisko:i.nazwisko,adres_email:i.adres_email,numer_tel:i.numer_tel,numer_stacj:i.numer_stacj,numer_pokoju:i.numer_pokoju,nazwa_dzialu:i.nazwa_dzialu};O(e).then((function(e){s({id:e.data.id,imie:e.data.imie,nazwisko:e.data.nazwisko,adres_email:e.data.adres_email,numer_tel:e.data.numer_tel,numer_stacj:e.data.numer_stacj,nazwa_dzialu:e.data.nazwa_dzialu,numer_pokoju:e.data.numer_pokoju,published:e.data.published}),m(!0),console.log(e.data)})).catch((function(e){console.log(e)}))},className:"btn btn-success",children:"Dodaj"})]})})},g=function(e){var a=Object(c.useState)({id:null,imie:"",nazwisko:"",adres_email:"",numer_tel:"",numer_stacj:"",nazwa_dzialu:"",numer_pokoju:"",published:!1}),t=Object(d.a)(a,2),i=t[0],s=t[1],l=Object(c.useState)(""),o=Object(d.a)(l,2),u=o[0],m=o[1];Object(c.useEffect)((function(){var a;a=e.match.params.id,h(a).then((function(e){s(e.data),console.log(e.data)})).catch((function(e){console.log(e)}))}),[e.match.params.id]);var b=function(e){var a=e.target,t=a.name,n=a.value;s(Object(j.a)(Object(j.a)({},i),{},Object(r.a)({},t,n)))},O=function(e){var a={id:i.id,imie:i.imie,nazwisko:i.nazwisko,adres_email:i.adres_email,numer_tel:i.numer_tel,numer_stacj:i.numer_stacj,nazwa_dzialu:i.nazwa_dzialu,numer_pokoju:i.numer_pokoju,published:e};x(i.id,a).then((function(a){s(Object(j.a)(Object(j.a)({},i),{},{published:e})),console.log(a.data)})).catch((function(e){console.log(e)}))};return Object(n.jsx)("div",{children:i?Object(n.jsxs)("div",{className:"edit-form",children:[Object(n.jsx)("h4",{children:"Edytuj pracownika"}),Object(n.jsxs)("form",{children:[Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{htmlFor:"imie",children:"Imi\u0119"}),Object(n.jsx)("input",{type:"text",className:"form-control",id:"imie",name:"imie",value:i.imie,onChange:b})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{htmlFor:"nazwisko",children:"Nazwisko"}),Object(n.jsx)("input",{type:"text",className:"form-control",id:"nazwisko",name:"nazwisko",value:i.nazwisko,onChange:b})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{htmlFor:"adres_email",children:"adres e-mail"}),Object(n.jsx)("input",{type:"text",className:"form-control",id:"adres_email",name:"adres_email",value:i.adres_email,onChange:b})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{htmlFor:"numer_tel",children:"Numer telefonu kom\xf3rkowego"}),Object(n.jsx)("input",{type:"text",className:"form-control",id:"numer_tel",name:"numer_tel",value:i.numer_tel,onChange:b})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{htmlFor:"numer_stacj",children:"Numer telefonu stacjonarnego"}),Object(n.jsx)("input",{type:"text",className:"form-control",id:"numer_stacj",name:"numer_stacj",value:i.numer_tel,onChange:b})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{htmlFor:"adres_email",children:"Adres e-mail"}),Object(n.jsx)("input",{type:"text",className:"form-control",id:"adres_email",name:"adres_email",value:i.adres_email,onChange:b})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{htmlFor:"nazwa_dzialu",children:"Nazwa dzia\u0142u"}),Object(n.jsx)("input",{type:"text",className:"form-control",id:"nazwa_dzialu",name:"nazwa_dzialu",value:i.nazwa_dzialu,onChange:b})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{htmlFor:"numer_pokoju",children:"Numer pokoju"}),Object(n.jsx)("input",{type:"text",className:"form-control",id:"numer_pokoju",name:"numer_pokoju",value:i.numer_pokoju,onChange:b})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{children:Object(n.jsx)("strong",{children:"Widoczno\u015b\u0107"})}),i.published?"Widoczny":"Ukryty"]})]}),i.published?Object(n.jsx)("button",{className:"badge badge-primary mr-2",onClick:function(){return O(!1)},children:"Odpublikuj"}):Object(n.jsx)("button",{className:"badge badge-primary mr-2",onClick:function(){return O(!0)},children:"Publikuj"}),Object(n.jsx)("button",{className:"badge badge-danger mr-2",onClick:function(){p(i.id).then((function(a){console.log(a.data),e.history.push("/ksiazka")})).catch((function(e){console.log(e)}))},children:"Usu\u0144"}),Object(n.jsx)("button",{type:"submit",className:"badge badge-success",onClick:function(){x(i.id,i).then((function(e){console.log(e.data),m("Ksi\u0105\u017cka zosta\u0142a poprawnie zaktualizowana")})).catch((function(e){console.log(e)}))},children:"Aktualizuj"}),Object(n.jsx)("p",{children:u})]}):Object(n.jsxs)("div",{children:[Object(n.jsx)("br",{}),Object(n.jsx)("p",{children:"Ksiazka adresowa kliknij na mnie"})]})})},v=function(){var e=Object(c.useState)([]),a=Object(d.a)(e,2),t=a[0],i=a[1],s=Object(c.useState)(null),o=Object(d.a)(s,2),r=o[0],j=o[1],u=Object(c.useState)(-1),m=Object(d.a)(u,2),h=m[0],O=m[1],x=Object(c.useState)(""),p=Object(d.a)(x,2),z=p[0],g=p[1];Object(c.useEffect)((function(){v()}),[]);var v=function(){b().then((function(e){i(e.data),console.log(e.data)})).catch((function(e){console.log(e)}))};return Object(n.jsxs)("div",{className:"list row",children:[Object(n.jsx)("div",{className:"col-md-8",children:Object(n.jsxs)("div",{className:"input-group mb-3",children:[Object(n.jsx)("input",{type:"text",className:"form-control",placeholder:"Szukaj po imieniu",value:z,onChange:function(e){var a=e.target.value;g(a)}}),Object(n.jsx)("div",{className:"input-group-append",children:Object(n.jsx)("button",{className:"btn btn-outline-secondary",type:"button",onClick:function(){f(z).then((function(e){i(e.data),console.log(e.data)})).catch((function(e){console.log(e)}))},children:"Szukaj"})})]})}),Object(n.jsxs)("div",{className:"col-md-6",children:[Object(n.jsx)("h4",{children:"Ksiazka lista"}),Object(n.jsx)("ul",{className:"list-group",children:t&&t.map((function(e,a){return Object(n.jsx)("li",{className:"list-group-item "+(a===h?"active":""),onClick:function(){return function(e,a){j(e),O(a)}(e,a)},children:e.imie},a)}))}),Object(n.jsx)("button",{className:"m-3 btn btn-sm btn-danger",onClick:function(){k().then((function(e){console.log(e.data),v(),j(null),O(-1)})).catch((function(e){console.log(e)}))},children:"Usun wsyzstko"})]}),Object(n.jsx)("div",{className:"col-md-6",children:r?Object(n.jsxs)("div",{children:[Object(n.jsx)("h4",{children:"Ksiazki"}),Object(n.jsxs)("div",{children:[Object(n.jsx)("label",{children:Object(n.jsx)("strong",{children:"Tytul:"})})," ",r.imie]}),Object(n.jsxs)("div",{children:[Object(n.jsx)("label",{children:Object(n.jsx)("strong",{children:"Nazwisko:"})})," ",r.nazwisko]}),Object(n.jsxs)("div",{children:[Object(n.jsx)("label",{children:Object(n.jsx)("strong",{children:"cs:"})})," ",r.numer_tel]}),Object(n.jsxs)("div",{children:[Object(n.jsx)("label",{children:Object(n.jsx)("strong",{children:"Tytul:"})})," ",r.nazwa_dzialu]}),Object(n.jsxs)("div",{children:[Object(n.jsx)("label",{children:Object(n.jsx)("strong",{children:"Tytul:"})})," ",r.adres_email]}),Object(n.jsxs)("div",{children:[Object(n.jsx)("label",{children:Object(n.jsx)("strong",{children:"Tytul:"})})," ",r.numer_pokoju]}),Object(n.jsxs)("div",{children:[Object(n.jsx)("label",{children:Object(n.jsx)("strong",{children:"Status:"})})," ",r.published?"Published":"Pending"]}),Object(n.jsx)(l.b,{to:"/ksiazka/"+r.id,className:"badge badge-warning",children:"Edit"})]}):Object(n.jsxs)("div",{children:[Object(n.jsx)("br",{}),Object(n.jsx)("p",{children:"Please click on a Tutorial..."})]})})]})},_=(t(384),t(227)),N=t.n(_),w=t(322),y=[{title:"Imie",field:"imie"},{title:"Nazwisko",field:"nazwisko"},{title:"Adres e-mail",field:"email"},{title:"Numer telefonu",field:"numer_tel",type:"numeric"},{title:"Numer tel. stacj.",field:"numer_stacj"},{title:"Nazwa dzia\u0142u",field:"nazwa_dzialu"},{title:"Numer pokoju",field:"numer_pokoju"}],C=Object(w.a)((function(e){return{modal:{position:"absolute",width:400,backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3),top:"50%",left:"50%",transform:"translate(-50%, -50%)"},iconos:{cursor:"pointer"},inputMaterial:{width:"100%"}}}));var F=function(){C();var e=Object(c.useState)([]),a=Object(d.a)(e,2),t=a[0],i=a[1];Object(c.useEffect)((function(){s()}),[]);var s=function(){b().then((function(e){i(e.ksiazka_crud),console.log(e.ksiazka_crud)})).catch((function(e){console.log(e)}))};return Object(n.jsx)("div",{className:"KsiazkaTable",children:Object(n.jsx)(N.a,{columns:y,ksiazka_crud:t,title:"Ksi\u0105\u017cka adresowa",options:{search:!1}})})};var S=function(){return Object(n.jsxs)("div",{children:[Object(n.jsxs)("nav",{className:"navbar navbar-expand navbar-dark bg-dark",children:[Object(n.jsx)("a",{href:"/ksiazka",className:"navbar-brand",children:"KM Plock"}),Object(n.jsxs)("div",{className:"navbar-nav mr-auto",children:[Object(n.jsx)("li",{className:"nav-item",children:Object(n.jsx)(l.b,{to:"/ksiazka",className:"nav-link",children:"Ksiazka"})}),Object(n.jsx)("li",{className:"nav-item",children:Object(n.jsx)(l.b,{to:"/add",className:"nav-link",children:"Dodaj"})}),Object(n.jsx)("li",{className:"nav-item",children:Object(n.jsx)(l.b,{to:"/table",className:"nav-link",children:"Ksi\u0105zka adresowa"})})]})]}),Object(n.jsx)("div",{className:"container mt-3",children:Object(n.jsxs)(o.c,{children:[Object(n.jsx)(o.a,{exact:!0,path:["/","/ksiazka"],component:v}),Object(n.jsx)(o.a,{exact:!0,path:"/add",component:z}),Object(n.jsx)(o.a,{path:"/ksiazka/:id",component:g}),Object(n.jsx)(o.a,{exact:!0,path:"/table",component:F})]})})]})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(Object(n.jsx)(l.a,{children:Object(n.jsx)(S,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[444,1,3]]]);
//# sourceMappingURL=main.8c9b5f34.chunk.js.map