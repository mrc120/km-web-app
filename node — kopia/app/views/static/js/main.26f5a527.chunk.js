(this["webpackJsonpreact-hooks-crud"]=this["webpackJsonpreact-hooks-crud"]||[]).push([[0],{36:function(e,a,n){},59:function(e,a,n){"use strict";n.r(a);var t=n(0),c=n(1),i=n(27),s=n.n(i),l=n(10),o=n(2),r=(n(35),n(36),n(12)),d=n(9),j=n(8),u=n(28),b=n.n(u).a.create({baseURL:"http://localhost:8080/api",headers:{"Content-type":"application/json"}}),m=function(){return b.get("/ksiazka")},h=function(e){return b.get("/ksiazka/".concat(e))},O=function(e){return b.post("/ksiazka",e)},x=function(e,a){return b.put("/ksiazka/".concat(e),a)},p=function(e){return b.delete("/ksiazka/".concat(e))},k=function(){return b.delete("/ksiazka")},f=function(e){return b.get("/ksiazka?imie=".concat(e))},v=function(){var e={id:null,imie:"",nazwisko:"",adres_email:"",numer_tel:"",nazwa_dzialu:"",numer_pokoju:"",published:!1},a=Object(c.useState)(e),n=Object(j.a)(a,2),i=n[0],s=n[1],l=Object(c.useState)(!1),o=Object(j.a)(l,2),u=o[0],b=o[1],m=function(e){var a=e.target,n=a.name,t=a.value;s(Object(d.a)(Object(d.a)({},i),{},Object(r.a)({},n,t)))};return Object(t.jsx)("div",{className:"submit-form",children:u?Object(t.jsxs)("div",{children:[Object(t.jsx)("h4",{children:"Dodano pomyslnie!"}),Object(t.jsx)("button",{className:"btn btn-success",onClick:function(){s(e),b(!1)},children:"Dodaj"})]}):Object(t.jsxs)("div",{children:[Object(t.jsxs)("div",{className:"form-group",children:[Object(t.jsx)("label",{htmlFor:"imie",children:"Imie"}),Object(t.jsx)("input",{type:"text",className:"form-control",id:"imie",required:!0,value:i.imie,onChange:m,name:"imie"})]}),Object(t.jsxs)("div",{className:"form-group",children:[Object(t.jsx)("label",{htmlFor:"nazwisko",children:"Nazwisko"}),Object(t.jsx)("input",{type:"text",className:"form-control",id:"nazwisko",required:!0,value:i.nazwisko,onChange:m,name:"nazwisko"})]}),Object(t.jsxs)("div",{className:"form-group",children:[Object(t.jsx)("label",{htmlFor:"adres_email",children:"Adres e-mail"}),Object(t.jsx)("input",{type:"text",className:"form-control",id:"adres_email",required:!0,value:i.adres_email,onChange:m,name:"adres_email"})]}),Object(t.jsxs)("div",{className:"form-group",children:[Object(t.jsx)("label",{htmlFor:"numer_tel",children:"Numer telefonu"}),Object(t.jsx)("input",{type:"text",className:"form-control",id:"numer_tel",required:!0,value:i.numer_tel,onChange:m,name:"numer_tel"})]}),Object(t.jsxs)("div",{className:"form-group",children:[Object(t.jsx)("label",{htmlFor:"nazwa_dzialu",children:"Nazwa dzia\u0142u"}),Object(t.jsx)("input",{type:"text",className:"form-control",id:"nazwa_dzialu",required:!0,value:i.nazwa_dzialu,onChange:m,name:"nazwa_dzialu"})]}),Object(t.jsxs)("div",{className:"form-group",children:[Object(t.jsx)("label",{htmlFor:"numer_pokoju",children:"Numer pokoju"}),Object(t.jsx)("input",{type:"text",className:"form-control",id:"numer_pokoju",required:!0,value:i.numer_pokoju,onChange:m,name:"numer_pokoju"})]}),Object(t.jsx)("button",{onClick:function(){var e={imie:i.imie,nazwisko:i.nazwisko,adres_email:i.adres_email,numer_tel:i.numer_tel,numer_pokoju:i.numer_pokoju,nazwa_dzialu:i.nazwa_dzialu};O(e).then((function(e){s({id:e.data.id,imie:e.data.imie,nazwisko:e.data.nazwisko,adres_email:e.data.adres_email,numer_tel:e.data.numer_tel,nazwa_dzialu:e.data.nazwa_dzialu,numer_pokoju:e.data.numer_pokoju,published:e.data.published}),b(!0),console.log(e.data)})).catch((function(e){console.log(e)}))},className:"btn btn-success",children:"Dodaj"})]})})},g=function(e){var a=Object(c.useState)({id:null,imie:"",nazwisko:"",adres_email:"",numer_tel:"",nazwa_dzialu:"",numer_pokoju:"",published:!1}),n=Object(j.a)(a,2),i=n[0],s=n[1],l=Object(c.useState)(""),o=Object(j.a)(l,2),u=o[0],b=o[1];Object(c.useEffect)((function(){var a;a=e.match.params.id,h(a).then((function(e){s(e.data),console.log(e.data)})).catch((function(e){console.log(e)}))}),[e.match.params.id]);var m=function(e){var a=e.target,n=a.name,t=a.value;s(Object(d.a)(Object(d.a)({},i),{},Object(r.a)({},n,t)))},O=function(e){var a={id:i.id,imie:i.imie,nazwisko:i.nazwisko,adres_email:i.adres_email,numer_tel:i.numer_tel,nazwa_dzialu:i.nazwa_dzialu,numer_pokoju:i.numer_pokoju,published:e};x(i.id,a).then((function(a){s(Object(d.a)(Object(d.a)({},i),{},{published:e})),console.log(a.data)})).catch((function(e){console.log(e)}))};return Object(t.jsx)("div",{children:i?Object(t.jsxs)("div",{className:"edit-form",children:[Object(t.jsx)("h4",{children:"Ksiazka"}),Object(t.jsxs)("form",{children:[Object(t.jsxs)("div",{className:"form-group",children:[Object(t.jsx)("label",{htmlFor:"imie",children:"Nazwa"}),Object(t.jsx)("input",{type:"text",className:"form-control",id:"imie",name:"imie",value:i.imie,onChange:m})]}),Object(t.jsxs)("div",{className:"form-group",children:[Object(t.jsx)("label",{htmlFor:"nazwisko",children:"nazwisko"}),Object(t.jsx)("input",{type:"text",className:"form-control",id:"nazwisko",name:"nazwisko",value:i.nazwisko,onChange:m})]}),Object(t.jsxs)("div",{className:"form-group",children:[Object(t.jsx)("label",{htmlFor:"adres_email",children:"adresemail"}),Object(t.jsx)("input",{type:"text",className:"form-control",id:"adres_email",name:"adres_email",value:i.adres_email,onChange:m})]}),Object(t.jsxs)("div",{className:"form-group",children:[Object(t.jsx)("label",{children:Object(t.jsx)("strong",{children:"Status:"})}),i.published?"Published":"Pending"]})]}),i.published?Object(t.jsx)("button",{className:"badge badge-primary mr-2",onClick:function(){return O(!1)},children:"Odpublikuj"}):Object(t.jsx)("button",{className:"badge badge-primary mr-2",onClick:function(){return O(!0)},children:"Publikuj"}),Object(t.jsx)("button",{className:"badge badge-danger mr-2",onClick:function(){p(i.id).then((function(a){console.log(a.data),e.history.push("/ksiazka")})).catch((function(e){console.log(e)}))},children:"Usu\u0144"}),Object(t.jsx)("button",{type:"submit",className:"badge badge-success",onClick:function(){x(i.id,i).then((function(e){console.log(e.data),b("Ksi\u0105\u017cka zosta\u0142a poprawnie zaktualizowana")})).catch((function(e){console.log(e)}))},children:"Aktualizuj"}),Object(t.jsx)("p",{children:u})]}):Object(t.jsxs)("div",{children:[Object(t.jsx)("br",{}),Object(t.jsx)("p",{children:"Ksiazka adresowa kliknij na mnie"})]})})},z=function(){var e=Object(c.useState)([]),a=Object(j.a)(e,2),n=a[0],i=a[1],s=Object(c.useState)(null),o=Object(j.a)(s,2),r=o[0],d=o[1],u=Object(c.useState)(-1),b=Object(j.a)(u,2),h=b[0],O=b[1],x=Object(c.useState)(""),p=Object(j.a)(x,2),v=p[0],g=p[1];Object(c.useEffect)((function(){z()}),[]);var z=function(){m().then((function(e){i(e.data),console.log(e.data)})).catch((function(e){console.log(e)}))};return Object(t.jsxs)("div",{className:"list row",children:[Object(t.jsx)("div",{className:"col-md-8",children:Object(t.jsxs)("div",{className:"input-group mb-3",children:[Object(t.jsx)("input",{type:"text",className:"form-control",placeholder:"Szukaj po imieniu",value:v,onChange:function(e){var a=e.target.value;g(a)}}),Object(t.jsx)("div",{className:"input-group-append",children:Object(t.jsx)("button",{className:"btn btn-outline-secondary",type:"button",onClick:function(){f(v).then((function(e){i(e.data),console.log(e.data)})).catch((function(e){console.log(e)}))},children:"Szukaj"})})]})}),Object(t.jsxs)("div",{className:"col-md-6",children:[Object(t.jsx)("h4",{children:"Ksiazka lista"}),Object(t.jsx)("ul",{className:"list-group",children:n&&n.map((function(e,a){return Object(t.jsx)("li",{className:"list-group-item "+(a===h?"active":""),onClick:function(){return function(e,a){d(e),O(a)}(e,a)},children:e.imie},a)}))}),Object(t.jsx)("button",{className:"m-3 btn btn-sm btn-danger",onClick:function(){k().then((function(e){console.log(e.data),z(),d(null),O(-1)})).catch((function(e){console.log(e)}))},children:"Usun wsyzstko"})]}),Object(t.jsx)("div",{className:"col-md-6",children:r?Object(t.jsxs)("div",{children:[Object(t.jsx)("h4",{children:"Ksiazki"}),Object(t.jsxs)("div",{children:[Object(t.jsx)("label",{children:Object(t.jsx)("strong",{children:"Tytul:"})})," ",r.imie]}),Object(t.jsxs)("div",{children:[Object(t.jsx)("label",{children:Object(t.jsx)("strong",{children:"Nazwisko:"})})," ",r.nazwisko]}),Object(t.jsxs)("div",{children:[Object(t.jsx)("label",{children:Object(t.jsx)("strong",{children:"cs:"})})," ",r.numer_tel]}),Object(t.jsxs)("div",{children:[Object(t.jsx)("label",{children:Object(t.jsx)("strong",{children:"Tytul:"})})," ",r.nazwa_dzialu]}),Object(t.jsxs)("div",{children:[Object(t.jsx)("label",{children:Object(t.jsx)("strong",{children:"Tytul:"})})," ",r.adres_email]}),Object(t.jsxs)("div",{children:[Object(t.jsx)("label",{children:Object(t.jsx)("strong",{children:"Tytul:"})})," ",r.numer_pokoju]}),Object(t.jsxs)("div",{children:[Object(t.jsx)("label",{children:Object(t.jsx)("strong",{children:"Status:"})})," ",r.published?"Published":"Pending"]}),Object(t.jsx)(l.b,{to:"/ksiazka/"+r.id,className:"badge badge-warning",children:"Edit"})]}):Object(t.jsxs)("div",{children:[Object(t.jsx)("br",{}),Object(t.jsx)("p",{children:"Please click on a Tutorial..."})]})})]})};var _=function(){return Object(t.jsxs)("div",{children:[Object(t.jsxs)("nav",{className:"navbar navbar-expand navbar-dark bg-dark",children:[Object(t.jsx)("a",{href:"/ksiazka",className:"navbar-brand",children:"KM Plock"}),Object(t.jsxs)("div",{className:"navbar-nav mr-auto",children:[Object(t.jsx)("li",{className:"nav-item",children:Object(t.jsx)(l.b,{to:"/ksiazka",className:"nav-link",children:"Ksiazka"})}),Object(t.jsx)("li",{className:"nav-item",children:Object(t.jsx)(l.b,{to:"/add",className:"nav-link",children:"Dodaj"})})]})]}),Object(t.jsx)("div",{className:"container mt-3",children:Object(t.jsxs)(o.c,{children:[Object(t.jsx)(o.a,{exact:!0,path:["/","/ksiazka"],component:z}),Object(t.jsx)(o.a,{exact:!0,path:"/add",component:v}),Object(t.jsx)(o.a,{path:"/ksiazka/:id",component:g})]})})]})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(Object(t.jsx)(l.a,{children:Object(t.jsx)(_,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[59,1,2]]]);
//# sourceMappingURL=main.26f5a527.chunk.js.map